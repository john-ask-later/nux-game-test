import{a as C,_ as I,P as B,l as L}from"./PrimaryButton-DOX2BOk6.js";import{o as n,c as a,F as y,n as r,a as t,t as x,q as _,g as p,Q as N,s as w,i as H,j as d,k as u,u as g,x as P,y as T,p as f,Z as V,z as Y,r as z,A as h}from"./inertia-BGsiMaLC.js";import"./bootstrap-6btFlK5R.js";const E={class:"font-medium"},F={class:"underline"},j={__name:"SpinResult",props:{is_win:Boolean,num:Number,score:Number,amount:Number,landing_hash_id:String,amount_in_usd:String},setup(s){return(l,o)=>(n(),a("div",{class:_(["p-4 mb-4 text-lg rounded-lg",[s.is_win?"bg-blue-50 text-blue-800":"bg-yellow-50 text-yellow-800"]]),role:"alert"},[s.is_win?(n(),a(y,{key:0},[o[0]||(o[0]=r(" You won ")),t("span",E,x(s.amount_in_usd),1),r(" within "+x(s.score)+" score ",1)],64)):(n(),a(y,{key:1},[o[1]||(o[1]=r(" Your score ")),t("span",F,x(s.score),1),o[2]||(o[2]=r(". Good luck next time... "))],64))],2))}},A=["type"],b={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(s){return(l,o)=>(n(),a("button",{type:s.type,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25"},[p(l.$slots,"default")],8,A))}},D={},G={class:"inline-flex items-center rounded-md border border-red-400 bg-transparent px-4 py-2 text-xs font-semibold uppercase tracking-widest text-red-400 transition duration-150 ease-in-out hover:bg-red-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700"};function M(s,l){return n(),a("button",G,[p(s.$slots,"default")])}const R=C(D,[["render",M]]),q={class:"flex flex-col mt-6 mx-auto w-full min-h-80 overflow-hidden bg-white px-6 pt-4 shadow-md shadow-gray-300 drop-shadow-lg sm:max-w-3xl sm:rounded-lg"},Q={class:"w-100 py-2 rounded-lg bg-gray-100 text-sm text-center mb-10"},Z={class:"w-full text-center mb-auto"},J={key:0,class:"w-full mt-10"},K={key:0,class:"mt-6 mx-auto w-full overflow-hidden bg-gray-50 px-6 py-4 shadow-sm shadow-gray-100 drop-shadow-md sm:max-w-3xl sm:rounded-lg"},O={key:1,class:"mt-6 mx-auto w-full overflow-hidden bg-white bg-opacity-60 shadow-sm shadow-gray-300 drop-shadow-sm sm:max-w-3xl sm:rounded-lg"},U={class:"relative overflow-x-auto"},W={class:"w-full text-sm text-left text-gray-500"},X={class:"px-6 py-4"},tt={class:"px-6 py-4"},et=["innerHTML"],rt={__name:"Landing",props:{hashId:String,timeLeft:String,newHashId:[String,null]},setup(s){N();let l=s;const o=w({score:0,amount:0,amount_in_usd:"",is_win:!0,landing_hash_id:"",num:0,exists:!1});let k=()=>{axios.post(route("spin.create",l.hashId)).then(i=>{L.assign(o,i.data.spin),o.exists=!0,c.exists=!1})},v=()=>{h.post(route("landing.regenerate",l.hashId),{preserveState:!0})};const c=w({spins:[],exists:!1});let S=()=>{axios.get(route("spin.history",l.hashId)).then(i=>{c.spins=i.data.spins,c.exists=!0})},$=()=>{h.delete(route("landing.deactivate",l.hashId))};return(i,e)=>(n(),H(I,null,{history:d(()=>[u(b,{class:"self-center",onClick:g(S)},{default:d(()=>e[0]||(e[0]=[r(" History ")])),_:1},8,["onClick"]),u(b,{class:"self-center",onClick:g(v)},{default:d(()=>e[1]||(e[1]=[r(" Get new link ")])),_:1},8,["onClick"]),u(R,{class:"self-center normal-case",onClick:g($)},{default:d(()=>e[2]||(e[2]=[r(" Exit ")])),_:1},8,["onClick"])]),default:d(()=>[u(g(V),{title:"Log in"}),t("div",q,[t("div",Q,x(s.timeLeft)+" your lucky page gets expired, don't miss your chance! ",1),t("div",Z,[u(B,{class:"py-7 px-12 text-xl w-full md:w-auto",onClick:g(k)},{default:d(()=>e[3]||(e[3]=[r(" Imfeelinglucky ")])),_:1},8,["onClick"])]),o.exists?(n(),a("div",J,[u(j,P(T(o)),null,16)])):f("",!0)]),s.newHashId?(n(),a("div",K,[e[5]||(e[5]=r(" You new lucky page just arrived: ")),u(g(Y),{href:i.route("landing.show",s.newHashId),class:"underline text-gray-900"},{default:d(()=>e[4]||(e[4]=[r(" click here to start ")])),_:1},8,["href"])])):f("",!0),c.exists?(n(),a("div",O,[t("div",U,[e[8]||(e[8]=t("div",{class:"px-6 py-4 text-sm text-gray-700 font-semibold bg-gray-100 border-b border-gray-200"}," Small insights on your latest spins ",-1)),t("table",W,[e[7]||(e[7]=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-100 border-b border-gray-200"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," Try # "),t("th",{scope:"col",class:"px-6 py-3"}," Score "),t("th",{scope:"col",class:"px-6 py-3"}," Amount ")])],-1)),t("tbody",null,[c.spins.length>0?p(i.$slots,"default",{key:0},()=>[(n(!0),a(y,null,z(c.spins,m=>(n(),a("tr",{class:_(["border-b",{"bg-blue-50 text-blue-800":m.is_win,"bg-yellow-50 text-yellow-800":!m.is_win}])},[t("td",X,x(m.num),1),t("td",tt,x(m.score),1),t("td",{class:"px-6 py-4",innerHTML:m.is_win?m.amount_in_usd:"Not today..."},null,8,et)],2))),256))]):p(i.$slots,"default",{key:1},()=>[e[6]||(e[6]=t("tr",null,[t("td",{colspan:"3",class:"bg-indigo-200 px-6 py-4"},'You must click "Imfeelinglucky" first')],-1))])])])])])):f("",!0)]),_:3}))}};export{rt as default};
